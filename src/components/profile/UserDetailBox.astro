---
import BubbleBox from '@com/main/BubbleBox.astro';
import UserDetailEditLinks from '@com/profile/UserDetailEditLinks.astro';
import ProfileImage from '@com/main/ProfileImage.astro';
import Mood from '@com/profile/Mood.astro';
import BottomUserDetailLinks from '@com/profile/BottomUserDetailLinks.astro';

interface Props {
    loggedin?: boolean;
    onlinenow?: boolean;
    name?: string;
    username?: string;
    lastActive?: string;
}

const { loggedin, name, username, lastActive } = Astro.props;

const profilepic = true;
---
<BubbleBox
    name={name} 
    name2="[edit name]"
    loggedin={loggedin}
    pclass="flex items-center justify-between text-base font-semibold text-white h-6 mx-2 mt-0.5" backgroundColor="bg-blue-400" 
    borderColor="border-blue-400" 
    aclass="text-[10px] -mt-0.5 font-normal hover:underline text-white" 
    aurl={`/${username}/settings`}
>
        <div class="pl-3.5 pb-1.5 pt-2">
            <div class="flex items-center space-x-2 -ml-2 mb-2.5 -mt-0.5">
                <UserDetailEditLinks loggedin={loggedin} username={username} />
            </div>
            <div class="flex justify-between mt-1.5 mb-2">
                <div class="relative inline-block">
                <ProfileImage
                imgclass="-ml-1.5 -mt-1"
                width={167}
                height={167}
                srcurl={profilepic ? "/img/400.jpeg" : "/img/avatar.png"}
                altText="Astro's profile picture"
                loggedin={loggedin}
              />
              </div>
            </div>
            <div class="space-y-1.5">
                <div class="-mt-2 -ml-1.5">
                    <Mood loggedin={loggedin} username={username} lastActive={lastActive} />
                </div>
                <div class="-ml-1.5">
                    <BottomUserDetailLinks username={username} />
                </div>
            </div>
        </div>
</BubbleBox>
