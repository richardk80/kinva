---
interface Props {
  widthcss?: string;
  backgroundColor?: string;
  borderColor?: string;
  name?: string;
  pclass?: string;
  count?: string;
};

const { widthcss, backgroundColor, borderColor, name, pclass, count } = Astro.props;

import users from '../../pages/api/users.json'; // Importing users data

const username = 'dex';

// Assuming you're fetching the user data based on a specific `username` or `id`
const user = users.find(user => user.username === username);

// If the user is found, get the message count; otherwise, set it to 0
const messageCount = user ? user.messagenum : 0;
---
<div class={widthcss}>
    <div class="py-0.5" class:list={backgroundColor}>
        <div class={pclass}>
          <div class="flex items-center space-x-1">
            <p>{name}</p>
            <div class="-mt-[2px]">{ 
            messageCount > 0 
            ? 
            <div class="flex items-center">
              (<p class="mx-auto mt-[1px] text-xs">{messageCount}</p>)
            </div>
            :  
            '' 
            }
            </div>
          </div>
    </div>
    </div>
        <div class="border-2 border-solid" class:list={borderColor}>
                <slot />
        </div>
</div>