---
import { Icon } from 'astro-icon/components';
---
<div>
    <!-- Notification Bell -->
    <button id="notificationButton" class="relative" title="You have 3 Notifications">
      <Icon name="bell" class="w-5 h-5 fill-white"></Icon>
    <!-- Notification Badge -->
    <span id="notificationBadge" class="absolute -top-1 -right-0.5 bg-red-500 text-white text-xs font-bold w-2 h-2 rounded-full"></span>
  </button>
  
    <!-- Dropdown -->
    <div id="notificationDropdown" class="hidden absolute right-0 mt-1.5 w-64 bg-neutral-950/90">
      <ul class="h-32 overflow-y-auto divide-y divide-gray-200 space-y-1">
        <!-- Notification Items -->
        <li><a href="#" class="px-4 py-2 text-sm text-white hover:underline flex justify-center">New message from John</a></li>
        <li><a href="#" class="px-4 py-2 text-sm text-white hover:underline flex justify-center">New message from John</a></li>
        <li><a href="#" class="px-4 py-2 text-sm text-white hover:underline flex justify-center">New message from John</a></li>
      </ul>
      <!-- View All Button -->
      <div class="text-center py-2">
        <button class="text-white text-sm font-medium hover:underline">View All</button>
      </div>
    </div>
  </div>

<style>
.hidden {
  display: none;
}
.block {
  display: block;
}
</style>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
  const notificationButton = document.getElementById('notificationButton');
  const notificationDropdown = document.getElementById('notificationDropdown');

  // Toggle dropdown visibility
  notificationButton.addEventListener('click', () => {
    notificationDropdown.classList.toggle('hidden');
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', (event) => {
    if (!notificationButton.contains(event.target) && !notificationDropdown.contains(event.target)) {
      notificationDropdown.classList.add('hidden');
    }
  });
});
</script>